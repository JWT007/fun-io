{%- assign title = include.title | escape -%}
{%- assign id = include.title | downcase | prepend: "navbar-" -%}
<li class="my-nav-item-dropdown">
  <a class="my-nav-link-dropdown-toggle" href="#" id="{{ id }}" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
    {{ title }}
  </a>
  <div class="dropdown-menu" aria-labelledby="{{ id }}">
{% for path in include.paths %}
  {% if path.first %}
    {%- comment -%}
      TODO: Sub-menus in dropdown menus are not supported in Bootstrap v4.0.0-beta.2 .
    {%- endcomment -%}
    {%- assign sub_title = path.first[0] -%}
    {%- assign sub_paths = path.first[1] -%}
    {% include nav-item-dropdown.html title=sub_title paths=sub_paths %}
  {% else %}
    {%- assign my_page = site.pages | where: "path", path | first -%}
    {% if my_page.title %}
    <a class="dropdown-item" href="{{ my_page.url | relative_url }}">{{ my_page.title | escape }}</a>
    {% endif %}
  {% endif %}
{% endfor %}
  </div>
</li>
